<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>easyQA</title>
  

</head>

<body class="stackedit">
  <div class="stackedit__html">
    <h1 id="тестирование-soap-и-rest">Тестирование SOAP и REST</h1>
  <p>Система - <a href="http://users.bugred.ru">http://users.bugred.ru</a></p>
  <p>Логин - manager@mail.ru<br>
  Пароль - 1</p>
  <p>WSDL - <a href="http://users.bugred.ru/tasks/soap/WrapperSoapServer.php?wsdl">http://users.bugred.ru/tasks/soap/WrapperSoapServer.php?wsdl</a> (SOAP)<br>
REST -  <a href="http://users.bugred.ru/tasks/rest/list">http://users.bugred.ru/tasks/rest/list</a> Все методы тип POST</p>
</div>
<h2>ТЗ на первую версию Users (техническое задание)</h2>


<p>Система Users, сотрудники
  Делаем отдельную систему пользователей.</p>


<h3>1. Регистрация / авторизация</h3>

<p>Там есть регистрация, ник + пароль → заводится карточка в этой же системе.
  Плюс регистрация через соцсети.</p>

<p>Через SOAP / REST методы:</p>

doRegister — в ответе карточка созданного клиента или текст ошибки. Пользователь создается и появляется в системе. Автор у него будет «SOAP»<br>
doLogin — проверка правильности логина-пароля. Возвращает true / false,<br>

<p>Входные параметры</p>

email	-	email пользователя<br>
name -	имя пользователя<br>
password - пароль
<h4>Особенности использования</h4>
<p>Пользователь создается и появляется в системе. Автор у него всегда будет «SOAP / REST», изменять его можно только через соответствующий-метод.<br>
   Имя и емейл должны быть уникальными</p>

   <h2>2. Список сотрудников</h2>

   <p></p>Главная — список сотрудников, возможность создать нового.
Ты можешь посмотреть любого, но изменить или удалить только своего.

<p>Доступен поиск по ФИО пользователя, его емейлу или автору (отсортировать всех, кого создал сам). Также есть фильтрация по дате изменения — 
  посмотреть всех, созданных / измененных вчера итд. Все фильтры можно сбросить одной кнопкой.</p>

<p>Колонки в списке сотрудников можно сортировать. Сортировка идет по всей базе, а не только по той странице, на который ты находишься.</p>

<p>Если сотрудник свежесоздан / изменен, он попадает наверх списка → бай дефолт сортировка по дате изменения по убыванию.</p>


<h3>3. Карточка сотрудника</h3>

<p>Поля карточки, в основном просто текстовые поля:</p>

Email<br>
ФИО<br>
Пол --- выпадайка<br>
Дата рождения --- дата<br>
Начал работать в компании --- дата<br>
Хобби <br>
имя1 <br>
фамилия1 <br>
отчество1<br>
Кошечка <br>
Собачка <br>
Попугайчик <br>
Морская свинка <br>
Хомячок <br>
Белочка <br>
Телефон <br>
Адрес<br>

<p>Создавать дубли по нику или ФИО нельзя, мы считаем, что все ФИО уникальны.</p>

<p>SOAP / REST методы:</p>

getUser — возвращает карточку пользователя;<br>
UpdateUserOneField — изменить одно любое поле у пользователя;<br>
FullUpdateUser — изменить все поля. В запросе обязательно передать все. Если оставить пустым — поля затрутся


<h3>4. Список задач</h3>

<pre>Говорят, нынче модно писать реализацию туду-листов, вот и мы напишем =) На самом деле это ради обертки над cron (см след пункт).

Заходишь в раздел, можешь создать задачу:
— Название string(50)
— Описание string(500)
— Ответственный (тут отображаются ФИО всех сотрудников)

Она появляется в списке задач, где можно ее изменить, удалить или добавить в расписание.
Простой пользователь видит только свои задачи, менеджер → вообще все. И все может менять.

SOAP / REST методы:

CreateTask — создать задачу, в ответе сама задача. Она появляется в интерфейсе.
UpdateTask — обновить задачу. В ответе будет просто «Задача успешно изменена!»
DeleteTask — удалить задачу из списка. Вернет текст «Задача с ID 17 успешно удалена». Чтобы удалить задачу, нужно знать ее ID. ID возвращается в ответе метода CreateTask + его видно в режиме просмотра / редактирования задачи в интерфейсе.
AddTaskInCron — добавить в расписание. Ответ будет, что задача добавлена в расписание + дата следующего запуска. Например, «Расписание успешно добавлено в задачу 18 Следущая дата запуска 06.04.2017 12:00»


<h3>5. Уведомления</h3>

Сделать уведомления о задаче:

Я создала задачу, повесив на пользователя А. Задача должна сработать через 30 минут.

1. У пользователя сразу же появляется уведомлялка — ну как Gmail Checker, типа «на вас повесили задачу».
2. За 5 минут до начала задачи приходит вторая уведомлялка «Через 5 минут будет задача такая-то».
3. Ну и ровно в срок уведомлялка.
4. Когда открываешь уведомлялку (это сейчас в блоке “0 заданий / 1 задание…”) должна быть кнопка “сделал”, только тогда она пропадает из расписания. Плюс кнопка «продолбал» :) Нажатия на эти кнопки логируются: “Пользователь А подтвердил, что сделал задачу (название задачи) / Пользователь А продолбал задачу (название задачи)”

Выполненные и пропущенные задачи должна быть возможность просмотреть --- Поля из самой задачи + кто и во сколько ее создал и когда она была в расписании исходно. И когда попала в "выполненные" / продолбанные.

На вкладке http://users.bugred.ru/tasks/my/completes колонки "Создана" и "Выполнена" (в итоге сделали одну, «время» выполнения)
На вкладке http://users.bugred.ru/tasks/my/fails такая же колонка со временем.

********************************************************************
Сценарий (применялся, когда разработчик запутался в моих требованиях)

У тебя есть список задач:

1. Одноразовые (свозить кота на кастрацию)
2. Многоразовые (поливать цветы 2 раза в неделю)

В списке задач ты видишь актуальные. Кастрацию пока не сделал? Висит и мозолит глаза без даты. Как тока свозил или решил "пущай живет", то есть нажал на кнопку — задача больше не мельтешит перед глазами.

Многоразовые — ты вчера не полил цветок, нажал "продолбал", увидел следующую дату поливки по крону)

Все твои телодвижения логируются: изменил задачу, поставил в расписание, отклонил, сделал
а менеджер может за тобой следить)

********************************************************************

Оповещения — http://users.bugred.ru/tasks/notify/index.html. 
Ты видишь только свои, менеджер видит все. Он может их фильтровать по конкретному человеку и выставлять диапазон проверки. 


<h3>6. Менеджер</h3>

Отдельная роль, настраивается для любой учетки в админке. В бекап вшит один менеджер: manager@mail.ru / 1.

Менеджер может наблюдать за сотрудниками:

— Он видит все оповещения + может их сортировать и фильтровать;
— Он видит все текущие задачи, все продолбанные и все выполненные;
— Он может отредактировать любую задачу;


Итого

Users — система с кучей самого разного функционала. Вы можете:

— Исследовать приложение в поисках JS-ошибок, потренироваться использовать консоль разработчика.
— Изучить, как работают вызовы SOAP и REST.
— Показывать своим джуниорам, «как что тестировать», в том числе и тестирование документации. Ну а что, вот же она, чуть выше ツ</pre>




</body>

</html>